# 基本概念

## 1.语法
### 1.标识符
    
指的是变量、函数、属性的名字,或者函数的参数。标识符按照以下的规则：

    1.第一个字符必须是下划线、大小写字母、美元符。
    2.其他字符可以是字母、下划线、美元符或者数字。

### 2.严格模式
为JavaScript定义了一种不同的解析和执行模型。在严格模式下,ECMAScript3中的不确定行为都将得到处理,而且对于一些不安全的操作也会抛出错误。
```
    "use strict"
```

## 2.保留字和关键字
在JS引擎中使用关键字作为标识符,会导致"Identifier Expected"错误。而使用保留字作为标识符也可能也可能不会导致相同的错误,具体取决于特定的引擎。

## 3.变量
每个变量仅仅是用于一个保存值得占位符,定义变量时要使用var操作符,后跟变量名,用var定义的变量将成为定义该变量的作用域中的局部变量。如果在一个函数中定义变量,那么在函数退出后就会被销毁。
如果忽略var声明,直接写变量,那么就会变成一个全局变量。在严格模式中会抛出ReferenceError错误,在严格模式中不能定义名为eval或arguments的变量。

## 4.数据类型
ECMAScript有五种基本数据类型:Null、Boolean、String、Number、Undefined。还有一种复杂数据类型：Object。
### 1.typeof操作符
这个操作符会将null识别为Object,而RegExp也会被识别为Object,在Safari5及之前的版本中会被识别为function。
typeof只有两种情况下有必要使用：
    
    识别函数Function以及undefined;
    
### 2.Undefined类型
对于声明但未赋值的变量,默认取得undefined值,而对于没有声明的变量会导致错误。在使用typeof时这两种情况都会返回Undefined类型。

### 3.null类型
null用于保存一个空对象指针,因此使用typeof时会返回一个Object类型。如果定义的变量将来会用于储存对象,那么最好将该变量初始化为null而不是其它值。
undefined的值是派生自null值的,因此做相等性测试会返回true。
```
    alert(undefined == null);//true
```
虽然有这样的关系,但是没有必要对任何变量显示的设置Undefined,而如果一个变量还未真正的保存对象,就应该明确的让该变量保存null值。

### 4.Boolean类型
该类型只有两个字面值：true和false。并且是小写的,如果是大写则为标识符。要将一个值转换为对应的Boolean值,可以调用Boolean()函数：
```
    var message = "Hello World";
    var a = Boolean(message);
```
可以对任何数据类型的值调用Boolean函数,并且总会返回一个Boolean值。 
|   数据类型    |   转换为true的值  |转换为false的值
| --------  | ------------ | ------------ |
| Boolean        |     true        | false |
| String         |    任何非空字符串   | ""(空字符串) |
| Number         |任何非零数字(infinity) | 0和NaN |
| Object         |    任何对象        |null |
| Undefined      |     不适用      |undefined|

### 5.Number类型
为了支持各种数值类型,定义了不同的数值字面量格式。最基本的数值字面量是十进制。
还可以使用八进制(0~7)或十六进制(0~9及A~F)。

八进制

字面值的第一位必须是零,然后是八进制数字的序列,如果超过了范围,那么前导零将被忽略,后面的数值被当做十进制解析。在严格模式下,八进制字面量是无效的。
    
十六进制
    
十六进制字面量的前两位必须是0x,后面跟任何十六进制数字(0~9及A~F)。字母可以大写也可以小写。在进行算数计算时,所有的八进制、十六进制都会以十进制计算。

####  1.浮点数值
就是小数,小数需要的内存空间是保存整数值的两倍。因此如果小数点后面没有任何数字或为0,那么会直接解析为整数格式。对于极大或极小的数值,可以使用e表示法,e为10的底数次幂,次数在e之后。如：
```
    var num = 9.19e9;//9.19X10^9
```

JS引擎的浮点数计算能力不好,如0.1+0.2 == 0.300004；

#### 2.数值范围
最小的数值为5e-324。最大的数值为1.797e308。如果在这个范围之外,都会被转化为infinity。确定一个数是不是有穷的,可以使用isFinite()函数。

#### 3.NaN
NaN,即非数值是一个特殊的数值,这个数值用于表示一个本来要返回数值的操作数未返回数值的情况。
NaN有两个特点,首先是涉及NaN的操作都会返回NaN,第二就是NaN与任何值都不相等,包括本身。
针对这个特点定义了isNaN函数。
```
    alert(isNaN("blue"));//false
```
#### 4.数值转换
有三个函数可以把非数值转化为数值：Number()、parseInt()和parseFloat()。
Number函数的转换为则如下：
```
1.如果是Boolean值,那么true和false分别转化为1,0；
2.如果是数字值,只是简单的传入和返回；
3.如果是null值,返回0；
4.如果是undefined值返回NaN；
5.如果是字符串,遵循下列规则：
      如果字符串只包含数字,将其转换为十进制数值
      如果包含有效的浮点格式,将其转化为对应的浮点数值
      如果字符串包含有效的十六进制格式,则转化为对应的十进制整数值
      如果字符串为空"",转化为0
      字符串包含除上述格式之外的字符,则转化为NaN

如果是对象,则调用对象的valueof()方法,然后在转化。如果结果为NaN,则调用对象的toString()方法,然后再转化,如果都没有基本类型值,则返回NaN。
```

```
    alert(Number("23kd"));//NaN
    alert(Number("0011"));//11
    alert(Number("0Xf"));15
```

parseInt()在转换时,更多的是看其是否符合数值模式。它会忽略字符串前面的空格,直至找到第一个非空格字符,如果第一个字符不是数字或负号,parseInt()就会返回NaN;对空字符串""使用Number会转化为0,而parseInt转化为NaN。如果第一个字符是数字,则继续解析到非数字字符或所有字符为止。还有一点就是可以解析八进制、十六进制的值,但是需要在第二个参数指明进制值。

Pay Ateention:
parseInt()可以转换对象,先调用对象上的toString方法,得到基本类型值,如果没有,则直接返回NaN。
```
    alert(parseInt("123Blue"));//123
    alert(parseInt("22.5"));//22
    alert(parseInt(""));//NaN
    alert(parseInt(null));//NaN
    alert(parseInt("AF",16));175
    alert(parseInt("10",8));//8
```
解析浮点数时,因为小数点不是数字字符,所以到此结束。
parseFloat的区别是可以转化浮点数,第一个小数点是有效的,之后的无效。并且由于parseFlat会忽略前导零,所以不能转化八进制、十六进制数值。

    parseInt()与Number()转换的不同点：
        对于null和""(空字符串),parseInt(null)为NaN,parseInt("")为NaN。而Number(null)和Number("")均为0。
        还有转换对象时,parseInt()会只比较对象上toString返回的基本类型值,如果没有,则为NaN,Number会按照优先valueOf => toString的顺序,直到NaN结束。
    

### 6.Sring类型
 Sring类型是由一个或者多个16位Unicode字符组成的字符序列,即字符串。
#### 1.字符字面量
该类型包含一些特殊的字符字面量,也叫转义序列,用于表示非打印字符,或者具有其他用途的字符。如下所示：
|   字面量    |  含义 |
| --------  | ------------|
| \n        |     换行     |      
| \t        |     制表     |   
| \b        |     退格     | 
| \r        |     回车     |      
| \f        |     进纸     |    
| \\        |     斜杠     |        
| \'        |     单引号     |   
| \"        |     双引号     | 
| \xnn      |     以十六进制代码nn表示的一个字符(n为0~F)  |     
| \unnnn    |     以十六进制代码nnnn表示的一个Unicode字符(n为0~F)| 


#### 2.字符串的特点
字符串一旦创建就不可改变,要改变变量保存的字符串必须先销毁原先的,再用新值字符串填充该变量。
```
    var lang = "Java";
    lang = lang + "Script";
```

#### 3.转换为字符串
有两种方式可以转换,String和toSring。
在toString方法中可以转换的有Boolean、String、Number和对象,但是null和undefined没有该方法。toString方法中可以传递参数,代表的以基数进制返回值的字符串表示。

使用String()方法如上几种返回相同的值,而null和undefined返回的则是字符串格式的null、undefined。

### 7.Object类型
对象就是一组数据和功能的集合。对象可以通过执行new操作符后要创建的对象类型的名称来创建。
```
    var a = new Object();
```
Object类型具有的任何属性方法都在实例中：

 - valueOf。返回对象的字符串、数值或布尔值表示。通常与toSring()方法返回值相同。
 - toLocalString。返回对象的字符串表示,该字符串与执行环境的地区对应。
 - hasOwnProperty。检查实例上是否有对应的属性,参数为属性的字符串格式。
 - constructor。指向保存着创建当前对象的函数。
 - isPrototypeOf。传入的对象是否是当前对象的原型。
 - toString。返回对象的字符串表示。
 - propertyIsEnumerable。给定的属性能否for-in循环,传入参数也必须为字符串格式。

## 5.操作符
用于操作数据值的操作符,包括算术操作符、位操作符、关系操作符和相等操作符。他们能适应于很多值,例如字符串、数字值、布尔值甚至是对象。应用与对象时,通常会调用对象的valueOf()或toString()方法。
### 1.一元操作符
#### 1.递增和递减操作符
各有两种。前置型和后置型。前置型先运算出结果再调用,后置型先调用在运算,例如：
```
    var num1 = 2;
    var num2 = 20;
    
    var num3 = --num1 + num2;//21
    var num4 = num1 + num2;//21
    
    var num3 = num1-- + num2;//22
    var num4 = num1 + num2;//21
```

这四个操作符对任何值都适用,包括字符串、布尔值、浮点数值和对象。在执行加法时会将它先Number转换再运算。应用于对象时,先调用对象的valueOf（）方法,然后对该值应用前述的规则,如果结果为NaN,则在调用toSring方法再运用前述的规则。

#### 2.一元加和减操作符
在使用这两个操作符时,实际上会使等号两边的值发生隐式转换,先让左右Number()转化以后再运算。比如：
```
    var s = false + true;//1
```
对于对象而言,仍然是先使用valueOf方法,再使用Number转换,如果为NaN则使用valueOf方法,再使用Number转换。

### 2.位操作符
欠奉

### 3.布尔操作符
#### 1.逻辑非(!)
无论是什么数据类型,这个操作符都会返回一个布尔值。先将操作数转换为布尔值,再取反。规则如下：

 - 非空字符串。false
 - 空字符串。true
 - 0。true
 - 非零数值。false
 - NaN。true
 - undefined、null。true
 - 对象。false

        而同时使用两个非则等于本身的布尔值。
```
    alert(!!"blue");//true
    alert(!!0);false
    alert(!!"");//false
```
#### 2.逻辑与(&&)
左真返右,左假返左。

#### 3.逻辑或(||)
左假返右,左真返左。

### 4.乘性操作符
定义了三个乘性操作符:乘法、除法和求模。
#### 1.乘法
如果两边都是数值,则直接运算,如果不是数值则进行Number转换,例如true/false分别转换为1、0,而转换为NaN的值,只要有一边是NaN,结果均为NaN。最后一点,Infinity与0相乘为NaN。
```
    alert(Infinity * 0);//NaN
```

#### 2.除法
如果被除数、除数中两个都是0或Infinity,结果都是NaN。
```
    alert(Infinity / Infinity);//NaN
    alert(0 / 0);//NaN
```
其余规则与乘法类似

#### 3.求模

 - 被除数是有穷大的数值(包括0)而除数为无穷大的数,结果为本身。
 - 如果被除数和除数都为Infinity,结果为NaN。
 - 如果被除数是Infinity除数是有穷的数,结果为NaN。
 - 不是数值通过Number()转换之后再计算。

### 5.加性操作符
#### 1.加法
 - 如果有一个操作数是NaN,则结果为NaN。
 - Infinity + Infinity = Infinity。
 - -Infinity + (-Infinity) = -Infinity。
 - Infinity + (-Infinity) = NaN。
 - 0的正负运算结果负号看前面的数。
 
如果有一个操作数是字符串,则将另一个转换为字符串之后拼接。如果都是字符串则直接拼接。

    如果有一个操作数是对象,则按照valueOf=>toString方法的顺序取得相应的字符串值,再应用之前的规则。对于undefined和null,都会使用Number()转换之后再参与计算。
```
    Number(undefined);//NaN
    Number(null);//0
```

#### 2.减法

 - Infinity - Infinity = NaN。
 - -Infinity - （-Infinity) = NaN。
 - Infinity - (-Infinity) = Infinity。
 - -Infinity - Infinity = -Infinity。
 - 如果有一个操作数是NaN,则结果为NaN。
如果对象使用减法,则按照valueOf=>toString方法的顺序取得相应的字符串值,再应用之前的规则。对于undefined和null,都会使用Number()转换之后再参与计算。
```
    Number(undefined);//NaN
    Number(null);//0
```
### 6.关系操作符

    小于( < ) 大于( > ) 小于等于( <= ) 大于等于( >= )
如果两边都是数值则直接比较。如果一边是数值,则另一边转换为数值比较。如果都是字符串,则标胶两个字符串对应的字符编码数。如果是空对象作比较,直接返回false,因为Number({})为NaN。涉及到NaN的比较都为false。

### 7.相等操作符

    相等和不相等操作符会先转换类型,再进行比较。而全等和不全等操作符只会比较,不会转换类型。

#### 1.相等和不相等
这两个操作符都会先转换操作数(通常称为强制转型),再进行比较相等性。
        

 - 如果有一个是布尔值,则现将布尔值转换为数值在比较。
 - 如果有一个是字符串,另一个是数值,会先转换字符串值为数值再比较。
 - 如果有一个是对象,调用对象上的valueOf方法得到基本类型值之后再比较,如果没有这个方法再调用toString,再没有就返回NaN,即"=="为false。
 - null和undefined是相等的。但是在比较相等性之前,不能讲null和undefined转换成其他任何值。
 - 如果两边都是对象,则比较它们是不是同一个对象,如果指向同一个对象,则"=="返回true。
 
```
    alert(null == undefined);//true
    alert("NaN" == NaN);//false
    alert(false == 0);//true
    alert(undefined == 0);//false
    alert("5" == 5);//true
```

#### 2.全等和不全等
全等和全不等只会比较相同数据类型,不会转换之后再比较。还有就是在全等下：
```
    alert(null === undefined);//false
```

### 8.条件操作符
```
    var max = (num1 > num2) ? num1 : num2;
```
### 9.赋值操作符
作用就是把右侧的值赋给左侧的变量。在等号前再添加乘性、加性或位操作符,就可以完成复合赋值操作。
```
    乘/赋值(*=);
    除/赋值(/=);
    模/赋值(%=);
    加/赋值(+=);
    减/赋值(-=);
```

### 10.逗号操作符
可以用于声明多个变量,除此之外还可以用于赋值。逗号操作符总会返回表达式中的最后一项。如下：
```
    var num = (5,1,3,9);// num为9
```

## 6.语句
### 1.if语句
### 2.do-while语句
do-while语句属于后测试循环语句,在对条件表达式求职之前,函数体内的代码至少会被执行一次。
```
    var i = 0;
    do{
          i += 2;
    }while(i>9);
    alert(i);//2
    //不管条件,至少先执行一次。
```
在判断while语句的条件之前,代码至少会执行一次加赋值操作。

### 3.while语句
在执行代码之前先对条件进行判断。
```
    var i = 0;
    while(i>3){
        i += 2;    
    }//代码不会被执行
```

### 4.for语句
#### 5.for-in语句
可以用来枚举对象的属性。在使用for-in之前最好先检测对象的值不是null或undefined。
```
    if(window != null && undefined){
        for(var prop in window){
            document.write(prop);
        }
    }
```
#### 6.label语句
使用label语句可以在代码中添加标签,以便将来使用。
```
    start: for(var i = 0;i<count;i++){
        alert(i);
    }
```
定义的start标签可以在将来由break或continue语句引用。加标签的语句一般都要与for语句等循环语句配合使用。

#### 7.break和continue语句
break语句会跳出整个循环,而continue只会跳出里面的循环然后再从循环的顶部继续执行。例如：
```
    var num = 0;
    outermost :
    for(var i = 0;i<10;i++){
        for(var j = 0;j<10;j++){
            if(i==5 && j==5){
                break outermost;
            }
            num++;
        }
    }
    alert(num);//55
    
    outermost :
    for(var i = 0;i<10;i++){
        for(var j = 0;j<10;j++){
            if(i==5 && j==5){
                continue outermost;
            }
            num++;
        }
    }
    alert(num);//95
```
在上述的循环中,break会直接跳出整个循环,当i、j等于5时,num为55。然后break直接结束循环体。continue只会跳出内部的循环,外部的循环还会继续,只是内部的循环少了5次而已。所以结果是95。在这段代码中,label语句与for循环联用,从而返回代码特定的位置。但如果使用过度,也会给调试带来麻烦。

#### 8.with语句
主要作用是延伸作用域,在with语句内部,这个代码块中,定义的变量为局部变量,如果在其中找不到对应的值,则在延伸的对象中查找变量。如：
```
    width(location){
        var qs = search.substring(1);
        var hostname = hostname;
        var url = href;
    }
```
严格模式下不允许使用with语句,将其视为语法错误。

#### 9.switch语句
```
    switch(i){
        case 20:
            alert("20");
            break;
        case 35:
            alert("35");
            break;
            
        default:
            alert("other");
    }
```
case具有穿透性,如果不设置break,那么就会继续执行下一个case,则这n个情形会执行相同的动作。switch语句中可以使用任何数据类型,无论是字符串,还是对象都可以。每个case的值不一定是常量,可以是变量甚至是表达式。

    在switch语句中,在比较值时使用的是全等操作符,因此不会发生类型转换,字符串"10"不等于数字10。
    
### 7.函数
函数可以使用函数名调用,定义时不必指定是否返回值。位于retur后的任何代码都不会执行。严格模式对函数有一些限制：

 - 函数不能命名为eval和arguments；
 - 参数命名不能为eval和arguments；
 - 函数不能重名；
 
#### 1.理解参数
参数arguments是类数组,具有length,但并不是Array实例。arguments对象的长度由传入的实参数量决定,不是由形参决定的。没有传参进去的形参,值为undefined。在严格模式下,对arguments是不能重写的,设置无效,只能通过实参传递参数值。
#### 2.没有重载
定义了两个同名的函数,后面的会覆盖之前的函数。因为不存在函数的签名,因此函数不能重载。

